<details
  id="<%= name %>"
  <%= (
    if expanded
      "open"
    end
  ) %>
  class="file"
>
  <summary class="file__name">
    <%= inline_svg(
      "caret-up.svg",
      class: "file__toggle file__toggle--close",
      title: "Collapse #{name}",
    ) %>

    <%= inline_svg(
      "caret-down.svg",
      class: "file__toggle file__toggle--open",
      title: "Expand #{name}",
    ) %>

    <code>
      <%= name %>
    </code>
  </summary>

  <% code(language) do %>
<%# The lack of leading indentation is significant %>
<%= contents %>
  <% end -%>
</details>
