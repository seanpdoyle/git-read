<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Use the title from a page's frontmatter if it has one -->
    <title>Introduce Redcarpet Markdown Engine
</title>
    <link href="../../stylesheets/site.css" rel="stylesheet" />
    <link href="../../stylesheets/syntax.css" rel="stylesheet" />
    <script src="../../javascripts/site.js"></script>
  </head>
  <body class="page">
    <details id="table-of-contents" class="page__history" open>
      <summary class="page__history-summary">
        Table of Contents
      </summary>
      <nav class="history">
        <a href="../../">git-read</a>

          <a href="../2a4441cc551f2fd73f05b8d25328a6d0d0d9ed99/">Elaborate on the project&#x27;s goals in the README.md
</a>
          <a href="../1b46163dfde3fcdc734ef11daef07972c7fd4c99/">[GENERATED]: Scaffold the project with Middleman
</a>
          <a href="../f2859800cec5f90bb8146d5c7108429a22f25c18/">Replace Generated Files with Static HTML and CSS
</a>
          <a href="../49d1766f58a627a8a084f1377fc6ad17755e6ff0/">Exercise the application through a System Test
</a>
          <a href="./" aria-current="page">Introduce Redcarpet Markdown Engine
</a>
          <a href="../6e5a5f239b07a224a9ada4bb8af47be4eb597455/">Generate `&#x2F;index.html` dynamically
</a>
          <a href="../f27fe60d06cca57e080d0bdfff9dd02fcd3c0c73/">Extract `ApplicationSystemTestCase`
</a>
          <a href="../d871fdaa5456c0d2e33a0291174dbfc3ac194353/">Render the contents of a Commit&#x27;s Message
</a>
          <a href="../5a96dc49fd5288d97f0f8e14d2d658dbe9ddeae1/">Navigate to previous commit
</a>
          <a href="../77058482950e921f5b96c98b3eb80a2c7bd046a7/">Navigate to next commit
</a>
          <a href="../58d4d4f04fe5a4d09ddcbc6fc69d096b9cf15bdd/">Dynamically determine project title
</a>
          <a href="../a8010861710698e7dc663094e443110017fcface/">Extract `UrlHelpers`
</a>
          <a href="../6bfbb9548a4eaace096c98aaac28d28f1481812b/">Add &quot;current&quot; styles to `&lt;a&gt;` elements
</a>
          <a href="../ab826e64843b2c7f958eda4d98d0262c68a385ec/">Syntax highlight Markdown fenced code blocks
</a>
          <a href="../f5bd967244bc5a397f4403c7eb25dfce98782d2d/">Introduce `bin&#x2F;git-read` command line interface
</a>
          <a href="../7432f7b3d3e57e85fc144826674ac04664686920/">Add `bin&#x2F;git-read --server` flag
</a>
          <a href="../3ba1bbc0812ae6d0675b435ca8310198a7e56f3e/">Extract `GitHelpers` from System Test Cases
</a>
          <a href="../3d56723f9f22e24d3b7292f0ed2ee4088762d63b/">Add support for re-writing a project&#x27;s history
</a>
          <a href="../a91272bb2216d20a5ce2674dc5804bdb5219e56b/">Extract `Commit` model
</a>
          <a href="../87c4a40f24d2212c9d65249f7904e8daef616c73/">Render how a commit changes the project&#x27;s files
</a>
          <a href="../44ecd1dd782efab914d13d5c8a160bbe88cd0f83/">Integrate with GitHub Actions
</a>
      </nav>
    </details>

    <main class="page__content">
      <header>

        <nav class="navigation">

<a href="../49d1766f58a627a8a084f1377fc6ad17755e6ff0/">              &#8592; Previous
</a>
<a href="../6e5a5f239b07a224a9ada4bb8af47be4eb597455/">              Next &#8594;
</a>        </nav>
      </header>

      <section class="container">
        <article class="container__item commit">
          <h1>Introduce Redcarpet Markdown Engine</h1>

<p>Add a dependency on the <a href="https://github.com/vmg/redcarpet/tree/v3.5.0#and-its-like-really-simple-to-use"><code>redcarpet</code> gem</a> to parse the
project&rsquo;s imminent <a href="https://guides.github.com/features/mastering-markdown/">Markdown</a> files.</p>

<p>Additionally, configure Middleman to make use of the parser by:</p>

<ul>
<li>setting the <code>:markdown_engine</code> setting, along with additional
<code>:markdown</code> configuration values from within <a href="#config.rb"><code>config.rb</code></a></li>
<li>renaming the <code>source/index.html.erb</code> to <code>source/index.html.md</code></li>
</ul>

<p>The previous file extension sequence was significant, as it encoded a
<a href="https://middlemanapp.com/basics/templating-language/#template-basics">pre-processing sequence</a> of <a href="https://ruby-doc.org/stdlib-2.7.0/libdoc/erb/rdoc/ERB.html">ERB</a> to HTML.</p>

<p>The <em>new</em> sequence encodes that the source files will be written in
<a href="https://guides.github.com/features/mastering-markdown/">Markdown</a> (as denoted by the <code>.md</code>), then transformed into HTML (as
denoted by the <code>.html</code>).</p>

<p>To ensure that the templating engine change was successful, change the
test&rsquo;s <a href="https://rubydoc.info/github/teamcapybara/capybara/master/Capybara/Minitest/Assertions:assert_text"><code>assert_text</code></a> verification to a more strict
<a href="https://rubydoc.info/github/teamcapybara/capybara/master/Capybara/Minitest/Assertions:assert_selector"><code>assert_selector</code></a> that asserts that the <code>git-read</code>
text appears within an <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/Heading_Elements"><code>&lt;h1&gt;</code> element</a>, which is what Markdown
transforms text underlined with <code>===</code> into.</p>

        </article>
          <aside class="container__item diff">
              <details
  id="Gemfile"
  open
>
  <summary>
    Gemfile
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/Gemfile b/Gemfile
index 972703e..e7e8539 100644
</span><span class="gd">--- a/Gemfile
</span><span class="gi">+++ b/Gemfile
</span><span class="p">@@ -2,6 +2,7 @@</span> source 'https://rubygems.org'
 
 gem 'middleman', '~&gt; 4.2'
 gem 'middleman-autoprefixer', '~&gt; 2.7'
<span class="gi">+gem 'redcarpet'
</span> gem 'tzinfo-data', platforms: [:mswin, :mingw, :jruby, :x64_mingw]
 gem 'wdm', '~&gt; 0.1', platforms: [:mswin, :mingw, :x64_mingw]
 
</code></pre></div></details>

              <details
  id="Gemfile.lock"
  open
>
  <summary>
    Gemfile.lock
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/Gemfile.lock b/Gemfile.lock
index c4f6511..b338dc5 100644
</span><span class="gd">--- a/Gemfile.lock
</span><span class="gi">+++ b/Gemfile.lock
</span><span class="p">@@ -105,6 +105,7 @@</span> GEM
     rb-fsevent (0.10.3)
     rb-inotify (0.10.1)
       ffi (~&gt; 1.0)
<span class="gi">+    redcarpet (3.5.0)
</span>     regexp_parser (1.7.0)
     sassc (2.2.1)
       ffi (~&gt; 1.9)
<span class="p">@@ -139,6 +140,7 @@</span> DEPENDENCIES
   capybara
   middleman (~&gt; 4.2)
   middleman-autoprefixer (~&gt; 2.7)
<span class="gi">+  redcarpet
</span>   tzinfo-data
   wdm (~&gt; 0.1)
 
</code></pre></div></details>

              <details
  id="config.rb"
  open
>
  <summary>
    config.rb
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/config.rb b/config.rb
index 71ec870..0f1f702 100644
</span><span class="gd">--- a/config.rb
</span><span class="gi">+++ b/config.rb
</span><span class="p">@@ -5,6 +5,9 @@</span> activate :autoprefixer do |prefix|
   prefix.browsers = "last 2 versions"
 end
 
<span class="gi">+set :markdown_engine, :redcarpet
+set :markdown, fenced_code_blocks: true, smartypants: true
+
</span> # Layouts
 # https://middlemanapp.com/basics/layouts/
 
</code></pre></div></details>

              <details
  id="source/index.html.erb"
  open
>
  <summary>
    source/index.html.erb
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/source/index.html.erb b/source/index.html.erb
</span><span class="p">deleted file mode 100644
</span><span class="gh">index c5a68ef..0000000
</span><span class="gd">--- a/source/index.html.erb
</span><span class="gi">+++ /dev/null
</span><span class="p">@@ -1,69 +0,0 @@</span>
<span class="gd">----
-title: Elaborate on the project's goals in the README.md
----
-
-&lt;h1&gt;
-  git-read
-&lt;/h1&gt;
-
-&lt;p&gt;
-  Generate a website based on a project's Git history.
-&lt;/p&gt;
-
-&lt;ul&gt;
-  &lt;li&gt;
-    Serve the project's
-    &lt;code&gt;README.md&lt;/code&gt;
-    as the homepage
-  &lt;/li&gt;
-  &lt;li&gt;
-    Index the history through its commits
-  &lt;/li&gt;
-  &lt;li&gt;
-    Transforms commit messages HTML through a syntax-aware Markdown parser
-  &lt;/li&gt;
-  &lt;li&gt;
-    Display the commits alongside their code changes
-  &lt;/li&gt;
-&lt;/ul&gt;
-
-&lt;h2&gt;
-  Command-line Interface
-&lt;/h2&gt;
-
-&lt;p&gt;
-  Once installed, make sure that the
-  &lt;code&gt;bin/git-read&lt;/code&gt;
-  executable is available on
-  your path so that the
-  &lt;a href="http://mirrors.edge.kernel.org/pub/software/scm/git/docs/howto/new-command.html"&gt;
-    &lt;code&gt;git&lt;/code&gt; program can invoke it as a subcommand
-  &lt;/a&gt;.
-&lt;/p&gt;
-
-&lt;p&gt;
-  To learn of the ways to to invoke the command, execute
-  &lt;code&gt;git read --help&lt;/code&gt;
-  :
-&lt;/p&gt;
-
-&lt;code&gt;
-  &lt;pre&gt;
-    usage: git read [--help] [-v|--verbose] [-s|--server|--serve]
-                    [-g | --git-dir &amp;lt;path&amp;gt;] [-o | --output-dir &amp;lt;path&amp;gt;]
-    Generate HTML from your project's Git history
-
-    OPTIONS
-          --output-dir
-              specify the directory where the site will be built
-          --git-dir
-              specify the parent directory of the project's .git/ directory
-          --verbose
-              print debugging information during the build process
-          --server
-              build and serve assets with a server available at
-              http://127.0.0.1:4567
-          --help
-              generate this help output
-  &lt;/pre&gt;
-&lt;/code&gt;
</span></code></pre></div></details>

              <details
  id="source/index.html.md"
  open
>
  <summary>
    source/index.html.md
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/source/index.html.md b/source/index.html.md
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..03c1d25
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/source/index.html.md
</span><span class="p">@@ -0,0 +1,48 @@</span>
<span class="gi">+---
+title: Elaborate on the project's goals in the README.md
+---
+
+git-read
+===
+
+Generate a website based on a project's Git history.
+
+* Serve the project's
+  `README.md`
+  as the homepage
+* Index the history through its commits
+* Transforms commit messages HTML through a syntax-aware Markdown parser
+* Display the commits alongside their code changes
+
+Command-line Interface
+---
+
+Once installed, make sure that the
+`bin/git-read`
+executable is available on
+your path so that the
+[`git` program can invoke it as a subcommand][subcommand]
+
+To learn of the ways to to invoke the command, execute
+`git read --help`:
+
+```bash
+usage: git read [--help] [-v|--verbose] [-s|--server|--serve]
+                [-g | --git-dir &lt;path&gt;] [-o | --output-dir &lt;path&gt;]
+Generate HTML from your project's Git history
+
+OPTIONS
+      --output-dir
+          specify the directory where the site will be built
+      --git-dir
+          specify the parent directory of the project's .git/ directory
+      --verbose
+          print debugging information during the build process
+      --server
+          build and serve assets with a server available at
+          http://127.0.0.1:4567
+      --help
+          generate this help output
+```
+
+[subcommand]: http://mirrors.edge.kernel.org/pub/software/scm/git/docs/howto/new-command.html
</span></code></pre></div></details>

              <details
  id="test/system/visitor_views_readme_test.rb"
  open
>
  <summary>
    test/system/visitor_views_readme_test.rb
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/system/visitor_views_readme_test.rb b/test/system/visitor_views_readme_test.rb
index 25cd19a..4f48a65 100644
</span><span class="gd">--- a/test/system/visitor_views_readme_test.rb
</span><span class="gi">+++ b/test/system/visitor_views_readme_test.rb
</span><span class="p">@@ -21,6 +21,6 @@</span> class VisitorViewsReadmeTest &lt; ActiveSupport::TestCase
   test "visitor views README" do
     visit "/index.html"
 
<span class="gd">-    assert_text "git-read"
</span><span class="gi">+    assert_selector "h1", text: "git-read"
</span>   end
 end
</code></pre></div></details>

          </aside>
      </section>
    </main>
  </body>
</html>
